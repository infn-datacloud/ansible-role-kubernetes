---
- name: Disable swap
  ansible.builtin.command: swapoff -a
  changed_when: false

- name: Include debug info tasks
  ansible.builtin.include_tasks: debug-info.yaml

- name: Include tasks for OS family {{ ansible_os_family }}
  ansible.builtin.include_tasks: "{{ ansible_os_family }}.yaml"

- name: Include tasks for node type {{ kube_type_of_node }}
  ansible.builtin.include_tasks: "{{ kube_type_of_node }}.yaml"

- name: Add GPU support for node type {{ kube_type_of_node }}
  ansible.builtin.include_tasks: gpu-support.yaml
  when: (enable_gpu | default(false) | bool)
